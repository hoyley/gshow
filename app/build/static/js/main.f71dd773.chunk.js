(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,n){e.exports=n(66)},25:function(e,t,n){},27:function(e,t,n){},48:function(e,t,n){},50:function(e,t,n){},52:function(e,t,n){},54:function(e,t,n){},56:function(e,t,n){},58:function(e,t,n){},60:function(e,t,n){},62:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(16),s=n.n(i),o=(n(25),n(1)),c=n(2),l=n(5),u=n(3),m=n(4),h=(n(27),n(8)),p=n.n(h),d=function(){return p.a.get("/state")},f=function(e){p()({method:"post",url:"/registerPlayer",headers:{"content-type":"text/plain"},data:e})},y=function(){p.a.get("/startGame")},g=function(e){p()({method:"post",url:"/game/choice",headers:{"content-type":"text/plain"},data:e})},v=(n(48),n(50),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e={width:this.props.width,height:this.props.height},t={transform:"rotateX(0deg) translateZ("+this.props.height/2+"px )"},n={transform:"rotateX(90deg) translateZ( "+this.props.height/2+"px )"},a="matrix(1 0 0 1 "+this.props.width/2+" "+this.props.height/1.6+")",i="0 0 "+this.props.width+" "+this.props.height;return r.a.createElement("div",{className:"fancy-button",style:e,ref:"fancyButton",onClick:this.props.onClick},r.a.createElement("div",{className:"fancy-flipper"},r.a.createElement("div",{className:"fancy-front",style:t},r.a.createElement("svg",{height:this.props.height,width:this.props.width,viewBox:i},r.a.createElement("defs",null,r.a.createElement("mask",{id:"mask_1"},r.a.createElement("rect",{width:"100%",height:"100%",fill:"#FFFFFF"}),r.a.createElement("text",{className:"mask-text button-text",fill:"#000000",transform:a,fontFamily:"'intro_regular'",fontSize:this.props.fontSize,width:"100%",textAnchor:"middle",letterSpacing:"1"},this.props.buttonText))),r.a.createElement("style",null,"#fancy-masked-element_mask_1 { mask: url(#mask_1); -webkit-mask: url(#mask_1)}"),r.a.createElement("rect",{id:"fancy-masked-element_mask_1",fill:this.props.color,width:"100%",height:"100%"}))),r.a.createElement("div",{className:"fancy-back",style:n},r.a.createElement("svg",{height:this.props.height,width:this.props.width,viewBox:i},r.a.createElement("rect",{stroke:this.props.color,strokeWidth:this.props.borderWidth,fill:"transparent",width:"100%",height:"100%"}),r.a.createElement("text",{className:"button-text",transform:a,fill:this.props.color,fontFamily:"'intro_regular'",fontSize:this.props.fontSize,textAnchor:"middle",letterSpacing:"1"},this.props.buttonText)))))}}]),t}(r.a.Component));v.defaultProps={color:"#FFFFFF",width:410,height:100,fontSize:40,borderWidth:15,buttonText:"FANCY BUTTON"};var b=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"startGame",value:function(){y()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"welcome"},r.a.createElement("div",null,r.a.createElement(v,{buttonText:"Start Game!",onClick:function(){return e.startGame()}})))}}]),t}(a.Component),E=n(7),w=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={name:""},n.handleChange=n.handleChange.bind(Object(E.a)(Object(E.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(E.a)(Object(E.a)(n))),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){this.setState({name:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault(),f(this.state.name)}},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,"Name:",r.a.createElement("input",{type:"text",value:this.state.name,onChange:this.handleChange})),r.a.createElement("input",{type:"submit",value:"Submit"}))}}]),t}(a.Component),k=(n(52),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=(this.props.players||[]).map(function(e){return r.a.createElement("li",{key:e.id},e.nickname," (",e.score,")")});return r.a.createElement("div",{className:"playerList"},r.a.createElement("h1",null,"Registration"),r.a.createElement("ul",null,e),this.props.myPlayer?r.a.createElement("div",null,"Welcome ".concat(this.props.myPlayer.nickname)):r.a.createElement(w,null))}}]),t}(a.Component)),O=(n(54),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"getRotateStyle",value:function(e){var t=216/this.props.children.length*e-90,n=-1*t;return{transform:"translate(".concat("12em",", ").concat("12em",") rotate(").concat(t,"deg) translate(").concat("12em",") rotate(").concat(n,"deg)")}}},{key:"render",value:function(){var e=this;return r.a.createElement("ul",{className:"circleContainer"},this.props.children.map(function(t,n){return r.a.createElement("li",{key:n,className:"circleItem",style:e.getRotateStyle(n)},t)}))}}]),t}(r.a.Component)),C=(n(56),n(17)),j=n.n(C),S=function(e){return r.a.createElement(j.a,{seconds:e.remaining,color:"green",alpha:1,size:e.size})},N=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).state={remainingTime:10},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({time:this.props.remainingTime})}},{key:"render",value:function(){var e=this.state&&this.state.time;return r.a.createElement("div",null,r.a.createElement(S,{remaining:e,size:"100"}))}}]),t}(r.a.Component),A=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleChoice",value:function(e){this.playerMadeChoice()||(this.setState({chosen:e}),g(e.option))}},{key:"playerLoggedIn",value:function(){return!!this.props.myPlayer}},{key:"playerMadeChoice",value:function(){var e=this;return this.props.playerAnswers&&this.props.playerAnswers.some(function(t){return e.playerLoggedIn()&&t.id===e.props.myPlayer.id})}},{key:"playerSelectedOption",value:function(e){return this.playerMadeChoice()&&this.state&&this.state.chosen&&this.state.chosen.option===e.option}},{key:"optionDisabled",value:function(e){return!this.playerLoggedIn()||this.playerMadeChoice()||e.eliminated}},{key:"getClassName",value:function(e){var t="option";return this.playerSelectedOption(e)?t+=" optionMyChoice":e.eliminated&&(t+=" optionEliminated"),t}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"timer"},r.a.createElement(N,this.props.gameStatus)),r.a.createElement(O,null,this.props.options.map(function(t){return r.a.createElement("div",{className:e.getClassName(t),onClick:function(){return e.handleChoice(t)},disabled:e.optionDisabled(t)},t.option)})))}}]),t}(a.Component),x=(n(58),function(e){var t,n=(t=e.myAnswer)&&t.correct,a=function(e){return e&&!e.correct}(e.myAnswer),i=function(e){return!e}(e.myAnswer),s=!!e.actualAnswer,o=e.myAnswer&&e.myAnswer.timeElapsed,c=e.myAnswer&&e.myAnswer.points;return r.a.createElement("div",null,s&&r.a.createElement("div",{className:"answer"},e.actualAnswer),n&&r.a.createElement("div",{className:"answerMessage"},"You answered correctly in "+o+" seconds and gained "+c+" points!"),a&&r.a.createElement("div",{className:"answerMessage"},"You got it wrong :("),s&&i&&r.a.createElement("div",{className:"answerMessage"},"You didn't even answer!?!"))}),P=(n(60),function(e){return e.gameConfig.status.gameOver&&e.myPlayer&&e.gameConfig.playerAnswers.find(function(t){return t.id===e.myPlayer.id})}),F=function(e){return r.a.createElement("div",null,r.a.createElement("h2",{className:"questionText"},e.gameConfig.question),e.gameConfig.status.gameOver?r.a.createElement(x,{myAnswer:P(e),actualAnswer:e.gameConfig.answer}):r.a.createElement(A,{options:e.gameConfig.options,playerAnswers:e.gameConfig.playerAnswers,myPlayer:e.myPlayer,gameStatus:e.gameStatus}))},M=function(e){return r.a.createElement("h1",null,e.error)},I=(n(62),function(e){return r.a.createElement("div",{className:"screen"},r.a.createElement("div",{className:"playerList"},r.a.createElement(k,{players:e.players,myPlayer:e.myPlayer})),r.a.createElement("div",{className:"gameArea"},function(e){return"Welcome"===e.screen?r.a.createElement(b,null):"ChoiceGame"===e.screen?r.a.createElement(F,{gameStatus:e.gameStatus,gameConfig:e.gameConfig,players:e.players,myPlayer:e.myPlayer}):r.a.createElement(M,{msg:"Unknown screen: "+e.screen})}(e)))}),T=n(18),_=n.n(T),z=function(){function e(t){Object(o.a)(this,e),this.onStateChange=t,this.clear(!0)}return Object(c.a)(e,[{key:"clear",value:function(e){this.screen="Welcome",this.players=[],this.playerId=null,this.myPlayer=null,this.gameConfig=null,this.gameStatus=null,e||this.onChange()}},{key:"start",value:function(){var e=this;setInterval(function(){return e.refresh()},200)}},{key:"refresh",value:function(){var e=this;d().then(function(t){e.setState(t.data)}).catch(function(t){console.error(t),e.clear()})}},{key:"setState",value:function(e){e&&e.screen&&e.screen.name?(this.screen=e.screen.name,this.gameConfig=e.screen,this.gameStatus=e.screen.status,e.registeredPlayers?this.players=e.registeredPlayers:this.players=[],this.onChange()):this.clear()}},{key:"onChange",value:function(){var e=this;this.playerId=_.a.get("player-id"),this.myPlayer=this.players.find(function(t){return t.id===e.playerId}),this.onStateChange()}}]),e}(),W=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).appState=new z(function(){return n.onAppStateChange()}),n.state={appState:n.appState},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.appState.start()}},{key:"onAppStateChange",value:function(){this.setState({appState:this.appState})}},{key:"render",value:function(){return r.a.createElement(I,this.state.appState)}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(64);s.a.render(r.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[19,2,1]]]);
//# sourceMappingURL=main.f71dd773.chunk.js.map